var cacheName="omnifaces.4.1",cacheableResources=$cacheableResources,offlineResource=$offlineResource;self.addEventListener("install",function(a){a.waitUntil(caches.open(cacheName).then(function(a){return a.addAll(cacheableResources)}))});
self.addEventListener("fetch",function(a){function g(){h("omnifaces.online",{method:c,url:b})}function d(a){h("omnifaces.offline",{method:c,url:b,error:a})}var f=a.request,c=f.method,b=f.url.replace(/([?&])v=.*?([&#]|$)/i,"$2"),h=function(a,d){self.clients.matchAll().then(function(b){b.forEach(function(b){b.postMessage({type:"omnifaces.event",name:a,detail:d})})})};if("GET"==c){var e="navigate"==a.request.mode,k=-1<b.indexOf("/jakarta.faces.resource/");(e||k)&&a.respondWith(caches.match(b).then(function(a){function b(b){return e&&
(d(b),offlineResource)?caches.match(offlineResource):a}var c=fetch(f).then(function(a){e&&g();return a},b).catch(b);return e?c:a||c}))}else"POST"==c&&fetch(b+(-1<b.indexOf("?")?"\x26":"?")+"omnifaces.event\x3dsw.js").then(g,d).catch(d)});self.addEventListener("activate",function(a){a.waitUntil(caches.keys().then(function(a){return Promise.all(a.filter(function(a){return a.startsWith("omnifaces.")&&a!=cacheName}).map(function(a){return caches.delete(a)}))}))});